{
    "title": "Webpack ä¼˜åŒ–",
    "excerpt": "1. å†™åœ¨å‰é¢ Webpack ä½œä¸ºæ„å»ºå·¥å…·ï¼Œå‰ç«¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¯ä»¥æ ¹æ®è‡ªèº«é¡¹ç›®çš„å®é™…æƒ…å†µè¿›è¡Œç›¸å…³é…ç½®ã€‚åˆç†çš„é…ç½®å¯¹äºå¼€å‘å’Œæ„å»ºé€Ÿåº¦æœ‰ç€ååˆ†æ˜¾è‘—çš„æå‡ã€‚å› æ­¤æœ¬æ–‡æˆ‘ä»¬æ¥äº†è§£ä¸‹webpackä¼˜åŒ–ç›¸å…³çš„çŸ¥è¯†ç‚¹ 2. å…·ä½“æ–¹æ³• cache ğŸ’¯ `j...",
    "updated": "2022-06-27 15:27:40 ",
    "created": "2022-05-11 14:21:16 ",
    "avatar": "https://avatars.githubusercontent.com/u/26271337?v=4",
    "id": 3,
    "content": "<h1 id=\"1-å†™åœ¨å‰é¢\">1. å†™åœ¨å‰é¢</h1>\n<p>Webpack ä½œä¸ºæ„å»ºå·¥å…·ï¼Œå‰ç«¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¯ä»¥æ ¹æ®è‡ªèº«é¡¹ç›®çš„å®é™…æƒ…å†µè¿›è¡Œç›¸å…³é…ç½®ã€‚åˆç†çš„é…ç½®å¯¹äºå¼€å‘å’Œæ„å»ºé€Ÿåº¦æœ‰ç€ååˆ†æ˜¾è‘—çš„æå‡ã€‚å› æ­¤æœ¬æ–‡æˆ‘ä»¬æ¥äº†è§£ä¸‹webpackä¼˜åŒ–ç›¸å…³çš„çŸ¥è¯†ç‚¹</p>\n<h1 id=\"2-å…·ä½“æ–¹æ³•\">2. å…·ä½“æ–¹æ³•</h1>\n<ol>\n<li><p>cache  ğŸ’¯</p>\n<pre><code class=\"language-jsx\">cache: {\n    type: &#39;filesystem&#39;\n}\n</code></pre>\n<p>  Webpack 5æ–°å¢äº†åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ï¼Œé¦–æ¬¡æ„å»ºåçš„é‡æ–°æ„å»ºé€Ÿåº¦ååˆ†å¿«é€Ÿ</p>\n</li>\n<li><p>symlinks(ä¸€èˆ¬ï¼Œæœ‰å°‘é‡æå‡)</p>\n<p> é¡¹ç›®æœªä½¿ç”¨npm linkæ—¶å¯ä»¥å°†symlinksè®¾ç½®ä¸ºfalse, ä¹Ÿä¼šå‡å°‘æ„å»ºæ—¶é—´</p>\n<pre><code class=\"language-jsx\">resolve: {\n    symlinks: false,\n}\n</code></pre>\n</li>\n<li><p>æ–‡ä»¶å‹ç¼©å’Œä»£ç æŠ½ç¦»ï¼ˆ ğŸ‘ï¼‰</p>\n<p> Webpack 5å†…ç½®äº†Terser, å¯ä»¥åœ¨ <code>optimization/minimizer</code> ä¸­å¯¹TerserPluginè¿›è¡Œè¯¦ç»†é…ç½®</p>\n<p> <code>css-minimizer-webpack-plugin</code> ç”¨æ¥å‹ç¼©css</p>\n<p> é€šè¿‡ <code>splitChunks</code>ä¸­è¿›è¡Œé…ç½®ï¼Œå¯ä»¥å°†å¸¸ç”¨çš„å…¬å…±æ¨¡å—æå–åˆ°å…¥å£chunkä¸­</p>\n<p> é€šè¿‡<code>mini-css-extract-plugin</code> å°†æ‰€æœ‰çš„cssæå–åˆ°å•ç‹¬æ–‡ä»¶ä¸­</p>\n<p> <code>purgecss-webpack-plugin</code>  å¯ä»¥åˆ†ç¦»å‡ºæœªä½¿ç”¨çš„css</p>\n</li>\n<li><p>tree-shaking( ğŸ‘)</p>\n<p> å¯ä»¥é€šè¿‡package.json ä¸­çš„sideEffectæ¥æ ‡è®°æœ‰å‰¯ä½œç”¨çš„æ–‡ä»¶ï¼ˆéESMæ¨¡å—ï¼‰ï¼Œtree-shakingé€šè¿‡ESMè¿›è¡Œä»£ç ä¼˜åŒ–ï¼Œå°†æœªä½¿ç”¨çš„ä»£ç å‰”é™¤å‡ºå»ã€‚</p>\n<p> å¯¹äºç¬¬ä¸‰æ–¹çš„åŒ…ï¼Œå¦‚æœæœ‰æä¾›ESåŒ…çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨å¼•ç”¨ä¸‰æ–¹åŒ…çš„ESåŒ…æ¥ä½¿ç”¨</p>\n</li>\n<li><p>é™æ€æ–‡ä»¶å¤„ç†( ğŸ‘)</p>\n<p>  å¯¹äºé¡¹ç›®ä¸­å­˜åœ¨çš„é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ç­‰ï¼Œå¯ä»¥ä¸Šä¼ åˆ°cdn,æé«˜è®¿é—®é€Ÿåº¦çš„</p>\n<pre><code class=\"language-jsx\">output: {\n    publicPath: isProd?&#39;${cdnPath}&#39;:&#39;&#39;\n}\n</code></pre>\n</li>\n<li><p>ç¬¬ä¸‰æ–¹åº“å¤„ç†(ä¸€èˆ¬)</p>\n<p> é€šè¿‡ <code>webpack-bundle-analyzer</code>  æ’ä»¶æ˜¾ç¤ºæ‰“åŒ…åæ¯ä¸ªæ¨¡å—æ‰€å ç”¨çš„å¤§å°ï¼Œå¯ä»¥å¯¹æ‰“åŒ…ä½“ç§¯åˆ†æ</p>\n<p> å¯¹äºå ç”¨ä½“ç§¯è¾ƒå¤§çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œå¯ä»¥è€ƒè™‘cdnå¼•å…¥ï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯</p>\n</li>\n<li><p>JSå¤„ç†( ğŸ’¯)</p>\n<p>  å¯ä»¥ä½¿ç”¨ <code>esbuild-loader</code> æ›¿æ¢<code>babel-loader</code>  æ¥å¤„ç†JSæ–‡ä»¶ï¼Œå¯¹äºæ„å»ºé€Ÿåº¦æœ‰å¾ˆå¤§çš„æå‡</p>\n<p> åŒæ—¶<code>ESBuildMinifyPlugin</code> æ’ä»¶å¯ä»¥ä»£æ›¿<code>TerserPlugin</code>æ’ä»¶è¿›è¡Œè¦é”ä»£ç </p>\n</li>\n</ol>\n"
}